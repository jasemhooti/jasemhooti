# NetBox - ربات تلگرام فروش فیلترشکن

NetBox یک ربات تلگرامی است که برای فروش اشتراک‌های فیلترشکن طراحی شده است. این ربات به صورت خودکار کانفیگ‌های VPN را از پنل X-UI ایجاد کرده و برای کاربران ارسال می‌کند.

## قابلیت‌ها

* **خرید آسان فیلترشکن:** کاربران می‌توانند از طریق ربات بسته‌های حجمی مختلف را مشاهده کرده و خریداری کنند.
* **پرداخت کارت به کارت:** پس از انتخاب بسته، کاربران می‌توانند مبلغ را کارت به کارت کرده و رسید پرداخت را ارسال کنند.
* **تایید خودکار و دستی سفارش:** ادمین می‌تواند سفارشات را به صورت دستی تایید یا رد کند. در صورت عدم تایید ادمین پس از 5 دقیقه، سفارش به صورت خودکار تایید می‌شود.
* **ایجاد خودکار کانفیگ:** پس از تایید سفارش، ربات به صورت خودکار یک کانفیگ VPN از پنل X-UI ایجاد کرده و برای کاربر ارسال می‌کند.
* **پنل مدیریت ادمین:** ادمین می‌تواند از طریق ربات به پنل مدیریت دسترسی داشته باشد و اقداماتی نظیر مشاهده سفارشات معلق، تنظیمات ربات و غیره را انجام دهد.
* **گزارشات:** تمام گزارشات مربوط به خریدها و سایر رویدادها به یک کانال یا گروه تلگرامی مشخص ارسال می‌شوند.
* **دکمه‌های شیشه‌ای:** تمام دکمه‌های ربات از نوع دکمه‌های Inline (شیشه‌ای) هستند.
* **پشتیبانی از پایگاه داده:** اطلاعات ربات در یک پایگاه داده SQLite ذخیره می‌شود که قابلیت پشتیبان‌گیری و بازگردانی دارد.
* **موجودی حساب کاربری:** کاربران می‌توانند علاوه بر خرید مستقیم، حساب کاربری خود را شارژ کنند.
* **کدهای تخفیف:** ادمین می‌تواند کدهای تخفیف ایجاد کرده و در اختیار کاربران قرار دهد.
* **قفل کانال:** ادمین می‌تواند عضویت اجباری در یک کانال تلگرامی را برای استفاده از ربات فعال کند.
* **بازی دو نفره آنلاین:** یک بازی حدس عدد آنلاین با قابلیت شرط‌بندی برای سرگرمی کاربران در ربات وجود دارد.
* **سیستم تیکت:** کاربران می‌توانند برای پشتیبانی با ادمین در ارتباط باشند و تیکت ارسال کنند.

## نصب و راه‌اندازی

برای نصب و راه‌اندازی ربات NetBox، مراحل زیر را دنبال کنید:

1.  **پیش‌نیازها:** مطمئن شوید که روی سرور Ubuntu شما `python3`, `python3-pip`, `git` و `screen` نصب شده باشد.

2.  **دانلود اسکریپت نصب:** دستور زیر را در ترمینال سرور خود اجرا کنید (جایگزین `YOUR_GITHUB_USERNAME` با نام کاربری گیت‌هاب خود و `YOUR_REPOSITORY_NAME` با نام مخزن خود کنید):

    ```bash
    bash <(curl -s [https://raw.githubusercontent.com/YOUR_GITHUB_USERNAME/YOUR_REPOSITORY_NAME/main/install.sh](https://raw.githubusercontent.com/YOUR_GITHUB_USERNAME/YOUR_REPOSITORY_NAME/main/install.sh))
    ```

    در مورد شما، با توجه به اطلاعاتی که دادید، دستور به این صورت خواهد بود:

    ```bash
    bash <(curl -s [https://raw.githubusercontent.com/jasemhooti/jasemhooti/main/install.sh](https://raw.githubusercontent.com/jasemhooti/jasemhooti/main/install.sh))
    ```

3.  **بررسی تنظیمات:** پس از اجرای اسکریپت، فایل `config.py` در پوشه `netbox_bot` ایجاد و با اطلاعات شما (توکن ربات، ID ادمین، آدرس پنل X-UI و غیره) پیکربندی می‌شود. در صورت نیاز می‌توانید این فایل را ویرایش کنید.

4.  **اجرای ربات:** اسکریپت نصب به طور خودکار ربات را در یک `screen` جداگانه اجرا می‌کند. برای مشاهده لاگ‌ها و وضعیت ربات، می‌توانید از دستور زیر استفاده کنید:

    ```bash
    screen -r netbox_bot
    ```

    برای جدا شدن از `screen` بدون بستن ربات، کلیدهای `Ctrl` + `A` و سپس `D` را فشار دهید.

## پیکربندی

فایل `config.py` شامل تنظیمات اصلی ربات است. در زیر به برخی از مهم‌ترین تنظیمات اشاره شده است:

* `BOT_TOKEN`: توکن ربات تلگرام شما.
* `ADMIN_ID`: ID عددی ادمین ربات.
* `BOT_NAME`: نام ربات شما.
* `PAYMENT_CARD_NUMBER`: شماره کارت بانکی شما برای دریافت پرداخت‌ها (اختیاری).
* `REPORT_CHANNEL_ID`: ID یا نام کاربری کانال یا گروه تلگرامی برای ارسال گزارشات.
* `XUI_PANEL_URL`: آدرس کامل پنل X-UI شما.
* `XUI_PANEL_USERNAME`: نام کاربری ورود به پنل X-UI.
* `XUI_PANEL_PASSWORD`: رمز عبور ورود به پنل X-UI.
* `DATABASE_FILE`: نام فایل پایگاه داده SQLite.
* `ADMIN_CONFIRMATION_TIMEOUT`: زمان انتظار (به ثانیه) برای تایید دستی سفارش توسط ادمین قبل از تایید خودکار.
* `GAME_ENTRY_FEE`: هزینه شرکت در بازی (به تومان).
* `MIN_GAME_BET`: حداقل مبلغ شرط‌بندی در بازی (به تومان).
* `MAX_GAME_BET`: حداکثر مبلغ شرط‌بندی در بازی (به تومان).
* `FORCE_JOIN_CHANNEL_LINK`: لینک کانال تلگرامی که کاربران باید قبل از استفاده از ربات در آن عضو شوند (اگر قابلیت قفل کانال فعال باشد).
* `ENABLE_FORCE_JOIN`: فعال یا غیرفعال کردن قابلیت قفل کانال (`True` یا `False`).

## نحوه استفاده

### کاربران

* `/start`: شروع ربات و دریافت پیام خوشامدگویی.
* `/packages`: نمایش لیست بسته‌های فیلترشکن موجود برای خرید.
* انتخاب بسته مورد نظر و دنبال کردن مراحل خرید.
* ارسال رسید پرداخت پس از واریز مبلغ به شماره کارت مشخص شده.
* دریافت لینک کانفیگ VPN پس از تایید سفارش توسط ادمین یا تایید خودکار.
* امکان شارژ حساب کاربری (در صورت فعال بودن این قابلیت).
* امکان استفاده از کد تخفیف (در صورت وجود).
* امکان ارسال تیکت برای پشتیبانی.
* امکان شرکت در بازی دو نفره آنلاین (در صورت فعال بودن این قابلیت).

### ادمین

* `/admin`: دسترسی به پنل مدیریت ادمین (فقط برای ID ادمین مشخص شده در فایل `config.py`).
* `/pending_orders`: مشاهده لیست سفارشات معلق پرداخت.
* پس از دریافت رسید پرداخت از کاربر، ادمین می‌تواند سفارش را تایید (`تایید`) یا رد (`رد`) کند.
* امکان مشاهده آمار کلی ربات (تعداد کاربران، کاربران آنلاین، میزان مصرف داده - نیاز به پیاده‌سازی).
* امکان مدیریت تیکت‌های کاربران (مشاهده و پاسخ دادن - نیاز به پیاده‌سازی).
* امکان ایجاد و مدیریت کدهای تخفیف (نیاز به پیاده‌سازی).
* امکان تنظیم قابلیت‌های کاربر (تمدید خودکار، تغییر اسم کانفیگ و غیره - نیاز به پیاده‌سازی).
* امکان فعال یا غیرفعال کردن قفل کانال و ویرایش لینک کانال (نیاز به پیاده‌سازی).
* امکان مشاهده گزارشات در کانال یا گروه مشخص شده.

## توسعه و مشارکت

شما می‌توانید با ارائه پیشنهادات و ارسال درخواست‌های pull به این پروژه کمک کنید.

## مجوز

[مجوز MIT](https://opensource.org/licenses/MIT) (اختیاری - در صورت تمایل می‌توانید مجوز پروژه خود را مشخص کنید).
